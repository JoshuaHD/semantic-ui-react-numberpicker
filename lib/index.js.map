{"version":3,"sources":["../src/index.js"],"names":["DECREASE_VALUE","INCREASE_VALUE","NumberPicker","createClass","getDefaultProps","name","label","placeholder","defaultValue","value","min","max","maxLength","step","required","basic","circular","compact","propTypes","PropTypes","string","isRequired","number","bool","onChange","func","getInitialState","numValue","props","buffer","handleAction","event","v","actionFilter","currentTarget","currentValue","replace","setVal","isFinite","parseFloat","console","log","target","stepSize","parsedVal","state","lastChar","charAt","length","returnValue","precision","Math","floor","setTimeout","validateInput","setState","style","default","input","borderRadius","textAlign","buttonLeft","borderTopRightRadius","borderBottomRightRadius","margin","buttonRight","borderTopLeftRadius","borderBottomLeftRadius","marginRight","marginLeft","render","display"],"mappings":"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","file":"index.js","sourcesContent":["import React, {Component} from \"react\";\r\nimport {render} from 'react-dom'\r\nimport _ from \"lodash\";\r\nimport {Button, Form, Input} from \"semantic-ui-react\";\r\n\r\n\r\nexport const DECREASE_VALUE = 'DECREASE_VALUE';\r\nexport const INCREASE_VALUE = 'INCREASE_VALUE';\r\n\r\n/*\r\n USAGE EXAMPLES:\r\n <Form.Field inline control={NumberPicker} name={MULTIPLY_INPUT + \".times\"} onChange={this.triggerChange} label=\"Copies to create\" defaultValue={1} min={1} max={999} placeholder=\"Repeat ...\" />\r\n <Form.Field width=\"8\" control={NumberPicker} compact label=\"compact buttons\" placeholder=\"Enter a number\" defaultValue={6} min={-41} max={45} step={1} />\r\n <Form.Field width=\"8\" control={NumberPicker} circular label=\"circular buttons\" placeholder=\"Enter a number\" defaultValue={6} min={-41} max={45} step={1} />\r\n <Form.Field width=\"8\" control={NumberPicker} basic label=\"basic buttons\" placeholder=\"Enter a number\" defaultValue={4} min={-40} max={40} step={2} />\r\n\r\n */\r\nconst NumberPicker = React.createClass({\r\n    getDefaultProps: function () {\r\n        return {\r\n            name: \"value\",\r\n            label: \"Pick a number\",\r\n            placeholder: \"Enter a number\",\r\n            defaultValue: 0,\r\n            value: 1,\r\n            /*\r\n             Setting min, max value to 1e10 to prevent javascript to switch into scientific notation\r\n             */\r\n            min: 1e10 * -1,\r\n            max: 1e10,\r\n            maxLength: 10,\r\n            step: \"any\",\r\n            required: false,\r\n            basic: false,\r\n            circular: false,\r\n            compact: false\r\n        };\r\n    },\r\n    propTypes: {\r\n        name: React.PropTypes.string.isRequired,\r\n        //defaultValue: React.PropTypes.number,\r\n        min: React.PropTypes.number,\r\n        max: React.PropTypes.number,\r\n        maxLength: React.PropTypes.number,\r\n        required: React.PropTypes.bool,\r\n        basic: React.PropTypes.bool,\r\n        circular: React.PropTypes.bool,\r\n        compact: React.PropTypes.bool,\r\n        //value: React.PropTypes.object.isRequired,\r\n        onChange: React.PropTypes.func.isRequired\r\n    },\r\n    getInitialState: function () {\r\n        return {\r\n            numValue: this.props.value || this.props.defaultValue,\r\n            buffer: {}\r\n        };\r\n    },\r\n    handleAction: function (event, v) {\r\n        let actionFilter = event.currentTarget.name;\r\n        let currentValue = event.currentTarget.value.replace(\",\", \".\");\r\n\r\n        var setVal = (_.isFinite(parseFloat(this.props.value))) ? parseFloat(this.props.value) : this.props.defaultValue;\r\n        console.log(\"handleAction\", actionFilter, currentValue, this.props.value, setVal, event, event.target.value, v);\r\n        console.log(\"props.value\", this.props.value);\r\n        console.log(\"currentValue\", currentValue);\r\n        console.log(\"setVal\", setVal);\r\n        let stepSize = (_.isFinite(parseFloat(this.props.step))) ? parseFloat(this.props.step) : 1;\r\n        switch (actionFilter) {\r\n            case DECREASE_VALUE:\r\n                if (this.props.value - stepSize >= this.props.min)\r\n                    setVal -= stepSize;\r\n                else\r\n                    setVal = this.props.min;\r\n\r\n                break;\r\n            case INCREASE_VALUE:\r\n                console.log(\"validation increase\", (setVal + stepSize <= this.props.max), setVal, this.props.value, stepSize);\r\n                if (setVal + stepSize <= this.props.max)\r\n                    setVal += stepSize;\r\n                else\r\n                    setVal = this.props.max;\r\n\r\n                break;\r\n            case this.props.name:\r\n                let parsedVal = parseFloat(currentValue);\r\n                if (currentValue === \"-\")\r\n                    this.state.buffer = \"-\";\r\n\r\n                if (parsedVal > this.props.max || parsedVal < this.props.min)\r\n                    console.log(\"zu gross oder klein\");\r\n                else\r\n                    setVal = currentValue;\r\n\r\n                break;\r\n        }\r\n\r\n\r\n        let lastChar = (\"\" + setVal).charAt(setVal.length - 1) || \"\";\r\n        let returnValue = setVal;\r\n        let precision = 1000;\r\n        if (_.isFinite(parseFloat(setVal)))\r\n            returnValue = Math.floor(parseFloat(setVal) * precision) / precision;\r\n\r\n        if (setVal === \"\" || setVal === \"-\" || lastChar === \".\" || lastChar === \",\")\r\n            returnValue = setVal;\r\n\r\n        console.log(\"returning \", {name: this.props.name, value: returnValue});\r\n        setTimeout(this.props.onChange, 1, {name: this.props.name, value: returnValue});\r\n    },\r\n    validateInput: function (event, v) {\r\n        let actionFilter = event.target.name;\r\n        let currentValue = event.target.value;\r\n\r\n        console.log(\"validate\", actionFilter, currentValue);\r\n\r\n        var setVal = this.props.value;\r\n        switch (actionFilter) {\r\n            case this.props.name:\r\n                let parsedVal = parseFloat(currentValue);\r\n\r\n                console.log(\"numValue\", currentValue, parsedVal, currentValue.length);\r\n                setVal = (_.isFinite(parsedVal)) ? parsedVal : this.props.defaultValue;\r\n\r\n                if (this.props.value > this.props.max)\r\n                    setVal = this.props.max;\r\n                break;\r\n\r\n            case DECREASE_VALUE:\r\n            case INCREASE_VALUE:\r\n            default:\r\n                break;\r\n        }\r\n\r\n        this.setState({numValue: setVal});\r\n    },\r\n    style: {\r\n        default: {\r\n            input: {\r\n                borderRadius: \"0px\",\r\n                textAlign: \"right\"\r\n            },\r\n            buttonLeft: {\r\n                borderTopRightRadius: \"0px\",\r\n                borderBottomRightRadius: \"0px\",\r\n                margin: \"0px\"\r\n            },\r\n            buttonRight: {\r\n                borderTopLeftRadius: \"0px\",\r\n                borderBottomLeftRadius: \"0px\",\r\n            }\r\n        },\r\n        circular: {\r\n            input: {\r\n                textAlign: \"right\"\r\n            },\r\n            buttonLeft: {\r\n                marginRight: \"3.5px\"\r\n            },\r\n            buttonRight: {\r\n                marginLeft: \"3.5px\"\r\n            }\r\n        }\r\n\r\n    },\r\n    render: function () {\r\n        //console.log(\"render\", this.props, this.state);\r\n        var style = (this.props.circular) ? this.style.circular : this.style.default;\r\n        var display = {circular: this.props.circular, basic: this.props.basic, compact: this.props.compact};\r\n        return (\r\n            <Input>\r\n                <Button {...display} type=\"button\" icon='minus' onClick={this.handleAction} name={DECREASE_VALUE}\r\n                        style={style.buttonLeft} disabled={(this.props.value <= this.props.min)}/>\r\n                <input type=\"text\" name={this.props.name} min={this.props.min} max={this.props.max}\r\n                       step={this.props.step}\r\n                       maxLength={this.props.maxLength} placeholder=\"Enter number\" required={this.props.required}\r\n                       value={this.props.value}\r\n                       onChange={this.handleAction} onBlur={this.validateInput} style={style.input} ref=\"cc\"/>\r\n                <Button {...display} type=\"button\" icon='plus' onClick={this.handleAction} name={INCREASE_VALUE}\r\n                        style={style.buttonRight} disabled={(this.props.value >= this.props.max)}/>\r\n            </Input>\r\n        );\r\n    }\r\n});\r\n\r\nexport default NumberPicker;"]}