{"version":3,"sources":["../src/index.js"],"names":["DECREASE_VALUE","INCREASE_VALUE","NumberPicker","style","default","input","borderRadius","textAlign","buttonLeft","borderTopRightRadius","borderBottomRightRadius","margin","buttonRight","borderTopLeftRadius","borderBottomLeftRadius","circular","marginRight","marginLeft","handleAction","bind","validateInput","state","touched","buffer","event","actionFilter","currentTarget","name","currentValue","value","replace","setVal","isFinite","parseFloat","props","stepSize","step","min","max","parsedVal","lastChar","charAt","length","returnValue","precision","Math","floor","setTimeout","onChange","v","target","display","basic","compact","classname_outer_input","classname_button_minus","id","classname_inner_input","maxLength","placeholder","required","classname_button_plus","Component","propTypes","PropTypes","string","isRequired","any","func","number","bool"],"mappings":"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","file":"index.js","sourcesContent":["import React, {\n    Component\n} from \"react\";\nimport {\n    render\n} from 'react-dom'\nimport _ from \"lodash\";\nimport {\n    Button,\n    Form,\n    Input\n} from \"semantic-ui-react\";\n\n\nexport const DECREASE_VALUE = 'DECREASE_VALUE';\nexport const INCREASE_VALUE = 'INCREASE_VALUE';\n\n/*\n USAGE EXAMPLES:\n <Form.Field inline control={NumberPicker} name={MULTIPLY_INPUT + \".times\"} onChange={this.triggerChange} label=\"Copies to create\" defaultValue={1} min={1} max={999} placeholder=\"Repeat ...\" />\n <Form.Field width=\"8\" control={NumberPicker} compact label=\"compact buttons\" placeholder=\"Enter a number\" defaultValue={6} min={-41} max={45} step={1} />\n <Form.Field width=\"8\" control={NumberPicker} circular label=\"circular buttons\" placeholder=\"Enter a number\" defaultValue={6} min={-41} max={45} step={1} />\n <Form.Field width=\"8\" control={NumberPicker} basic label=\"basic buttons\" placeholder=\"Enter a number\" defaultValue={4} min={-40} max={40} step={2} />\n\n*/\n\n\nclass NumberPicker extends React.Component {\n\n    constructor() {\n        super();\n        this.style = {\n            default: {\n                input: {\n                    borderRadius: \"0px\",\n                    textAlign: \"right\"\n                },\n                buttonLeft: {\n                    borderTopRightRadius: \"0px\",\n                    borderBottomRightRadius: \"0px\",\n                    margin: \"0px\"\n                },\n                buttonRight: {\n                    borderTopLeftRadius: \"0px\",\n                    borderBottomLeftRadius: \"0px\",\n                }\n            },\n            circular: {\n                input: {\n                    textAlign: \"right\"\n                },\n                buttonLeft: {\n                    marginRight: \"3.5px\"\n                },\n                buttonRight: {\n                    marginLeft: \"3.5px\"\n                }\n            }\n\n        };\n        this.handleAction = this.handleAction.bind(this);\n        this.validateInput = this.validateInput.bind(this);\n\n        this.state = {\n            touched: false,\n            buffer: {}\n        };\n\n    }\n\n    static get defaultProps() {\n        return {\n            placeholder: \"Enter a number\",\n            id: \"\",\n            /*\n             Limiting min, max value to 1e10 to prevent javascript to switch into scientific notation\n             */\n            min: 1e10 * -1,\n            max: 1e10,\n            maxLength: 10,\n            step: 1,\n            required: false,\n            basic: false,\n            circular: false,\n            compact: false,\n            classname_button_minus: \"number_picker_button_minus\",\n            classname_button_plus: \"number_picker_button_plus\",\n            classname_outer_input: \"number_picker\",\n            classname_inner_input: \"number_picker_input\"\n        };\n    }\n\n    handleAction(event) {\n        let actionFilter = event.currentTarget.name;\n        let currentValue = event.currentTarget.value.replace(\",\", \".\").replace(/\\D/g, '');\n\n        var setVal = (_.isFinite(parseFloat(this.props.value))) ? parseFloat(this.props.value) : null;\n        let stepSize = (_.isFinite(parseFloat(this.props.step))) ? parseFloat(this.props.step) : 1;\n        switch (actionFilter) {\n            case DECREASE_VALUE:\n                if (this.props.value - stepSize >= this.props.min)\n                    setVal -= stepSize;\n                else\n                    setVal = this.props.min;\n\n                break;\n            case INCREASE_VALUE:\n                if (setVal + stepSize <= this.props.max)\n                    setVal += stepSize;\n                else\n                    setVal = this.props.max;\n\n                break;\n            default:\n                let parsedVal = parseFloat(currentValue);\n                if (currentValue === \"-\")\n                    this.state.buffer = \"-\";\n\n                if (!(parsedVal > this.props.max || parsedVal < this.props.min)) {\n                    setVal = currentValue;\n                }\n\n                break;\n        }\n\n\n        let lastChar = (\"\" + setVal).charAt(setVal.length - 1) || \"\";\n        let returnValue = setVal;\n        let precision = 1000;\n        if (_.isFinite(parseFloat(setVal)))\n            returnValue = Math.floor(parseFloat(setVal) * precision) / precision;\n\n        if (setVal === \"\" || setVal === \"-\" || lastChar === \".\" || lastChar === \",\")\n            returnValue = setVal;\n\n        setTimeout(this.props.onChange, 1, {\n            name: this.props.name,\n            value: returnValue\n        });\n    }\n\n    validateInput(event, v) {\n        let actionFilter = event.target.name;\n        let currentValue = event.target.value;\n\n        var setVal = this.props.value;\n        switch (actionFilter) {\n            case this.props.name:\n                let parsedVal = parseFloat(currentValue);\n                setVal = (_.isFinite(parsedVal)) ? parsedVal : null;\n\n                if (parsedVal > this.props.max)\n                    setVal = this.props.max;\n                break;\n\n            case DECREASE_VALUE:\n            case INCREASE_VALUE:\n            default:\n                break;\n        }\n    }\n\n    render() {\n        var style = (this.props.circular) ? this.style.circular : this.style.default;\n        var display = {\n            circular: this.props.circular,\n            basic: this.props.basic,\n            compact: this.props.compact\n        };\n        return (<\n                Input className={\n                this.props.classname_outer_input\n            }>\n                <\n                    Button {...display\n                           }\n                           type=\"button\"\n                           icon='minus'\n                           onClick={\n                               this.handleAction\n                           }\n                           name={\n                               DECREASE_VALUE\n                           }\n                           style={\n                               style.buttonLeft\n                           }\n                           disabled={\n                               (this.props.value <= this.props.min)\n                           }\n                           className={\n                               this.props.classname_button_minus\n                           }\n                /> <\n                input type=\"text\"\n                      name={\n                          this.props.name\n                      }\n                      id={\n                          this.props.id\n                      }\n                      min={\n                          this.props.min\n                      }\n                      max={\n                          this.props.max\n                      }\n                      step={\n                          this.props.step\n                      }\n                      className={\n                          this.props.classname_inner_input\n                      }\n                      maxLength={\n                          this.props.maxLength\n                      }\n                      placeholder={\n                          this.props.placeholder\n                      }\n                      required={\n                          this.props.required\n                      }\n                      value={\n                          this.props.value\n                      }\n                      onChange={\n                          this.handleAction\n                      }\n                      onBlur={\n                          this.validateInput\n                      }\n                      style={\n                          style.input\n                      }\n            /> <\n                Button {...display\n                       }\n                       type=\"button\"\n                       icon='plus'\n                       onClick={\n                           this.handleAction\n                       }\n                       name={\n                           INCREASE_VALUE\n                       }\n                       style={\n                           style.buttonRight\n                       }\n                       disabled={\n                           (this.props.value >= this.props.max)\n                       }\n                       className={\n                           this.props.classname_button_plus\n                       }\n            /> </Input>\n        );\n    }\n}\n\nNumberPicker.propTypes = {\n    name: React.PropTypes.string.isRequired,\n    id: React.PropTypes.string,\n    value: React.PropTypes.any.isRequired,\n    onChange: React.PropTypes.func.isRequired,\n    placeholder: React.PropTypes.string,\n    min: React.PropTypes.number,\n    max: React.PropTypes.number,\n    step: React.PropTypes.number,\n    maxLength: React.PropTypes.number,\n    required: React.PropTypes.bool,\n    basic: React.PropTypes.bool,\n    circular: React.PropTypes.bool,\n    compact: React.PropTypes.bool\n};\n\nexport default NumberPicker;"]}